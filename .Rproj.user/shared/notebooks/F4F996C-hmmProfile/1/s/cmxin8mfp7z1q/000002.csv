"0","annotale <- system.file(""tools"", ""AnnoTALEcli-1.4.1.jar"", package = ""tantale"", mustWork = T)"
"0","tal_predict_dir <- file.path(hmm_dir, ""tal_predict"")"
"0","tantale::analyzeAnnoTALE(inputFastaFile = ref_file, outputDir = tal_predict_dir)"
"1","##  Now running annoTALE predict for"
"1"," "
"1","ref"
"1"," "
"1","using the following command:
##  "
"1"," "
"1","java -jar /home/baotram/tal/xanthopore-scripts/tantale/inst/tools/AnnoTALEcli-1.4.1.jar predict g=/home/baotram/tal/xanthopore-scripts/tantale/inst/extdata/hmmProfile/ref_seqs/ref.fa s=ref outdir=/home/baotram/tal/xanthopore-scripts/tantale/inst/extdata/hmmProfile/tal_predict/Predict"
"1"," "
"1","
"
"2","Parameters of tool ""TALE Prediction"" (predict, version: 1.1):
"
"2","g - Genome (The input Xanthomonas genome in FastA or Genbank format)	= /home/baotram/tal/xanthopore-scripts/tantale/inst/extdata/hmmProfile/ref_seqs/ref.fa
s - Strain (The name of the strain, will be used for annotated TALEs, OPTIONAL)	= ref
outdir - The output directory, defaults to the current working directory (.)	= /home/baotram/tal/xanthopore-scripts/tantale/inst/extdata/hmmProfile/tal_predict/Predict
"
"1","Loading input genome...
"
"1","Scanning genome for TALEs...
"
"1","...finished.

"
"1","Writing GFF output.
"
"1","Writing Genbank output.
"
"1","Writing FastA outputs.
"
"1","##  Now running annoTALE analyze for"
"1"," "
"1","ref"
"1"," "
"1","using the following command:
##  "
"1"," "
"1","java -jar /home/baotram/tal/xanthopore-scripts/tantale/inst/tools/AnnoTALEcli-1.4.1.jar analyze  t='/home/baotram/tal/xanthopore-scripts/tantale/inst/extdata/hmmProfile/tal_predict/Predict/TALE_DNA_sequences_(ref).fasta' outdir='/home/baotram/tal/xanthopore-scripts/tantale/inst/extdata/hmmProfile/tal_predict/Analyze'"
"1"," "
"1","
"
"2","Parameters of tool ""TALE Analysis"" (analyze, version: 1.1):
"
"2","n - Name (A name for this run of TALE Analysis, OPTIONAL)	= null
t - TALE DNA sequences (The DNA sequences of the TALEs)	= /home/baotram/tal/xanthopore-scripts/tantale/inst/extdata/hmmProfile/tal_predict/Predict/TALE_DNA_sequences_(ref).fasta
outdir - The output directory, defaults to the current working directory (.)	= /home/baotram/tal/xanthopore-scripts/tantale/inst/extdata/hmmProfile/tal_predict/Analyze
"
"1","Analyzing TALEs:
"
"1","ref-tempTALE1 [1-3115:1]
"
"1","ref-tempTALE2 [1-2896:1]
"
"1","ref-tempTALE3 [1-2701:1]
"
"1","ref-tempTALE4 [1-3424:1]
"
"1","ref-tempTALE5 [2900-6725:1]
"
"1","
Writing outputs.
"
"0","# extract DNA/AA parts"
"0","annotale_outfiles <- list.files(tal_predict_dir, ""(TALE_DNA_parts.fasta|TALE_Protein_parts.fasta)"", recursive = T, full.names = T)"
"0","for (f in annotale_outfiles) {"
"0","  filename <- basename(f)"
"0","  type <- ifelse(grepl(""DNA"", filename), ""CDS"", ""AA"")"
"0","  for (p in c(""N-terminus"", ""C-terminus"", ""repeat"")) {"
"0","    part_file <- glue::glue(""{tal_predict_dir}/TALE_{p}_{type}.fa"")"
"0","    extract_cmd <- glue::glue(""grep -A1 '{p}' {f} > {part_file}"")"
"0","    system(extract_cmd)"
"0","  }"
"0","}"
